<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee bar cart</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet"  href="coffee.css">
</head>
<body>
    <div class="cartcontainer">
    
    <header class="head">
        <div>
            <h2><span>Pastry</span> World</h2>
        </div>

        <div class="navbar">
            <ul class="nav">
                <li><a href="coffee welcome.html">Home</a></li>
                <li><a href="cart.html">Cart</a></li>
            </ul>
        </div>

        <div class="menu">
            <a><i class='bx bx-menu'></i></a>
        </div>
    </header>

    <div class="cartList">
    <h1>Coffee Cart</h1>
    <table>
  <thead>
    <tr>
      <th>Image</th>
      <th>Item</th>
      <th>Price</th>
      <th>Remove</th>
    </tr>
  </thead>
  <tbody id="cart-table-body"></tbody>
</table>

    </div>

    <div class="cartLink">
        <a class="back" href="coffee welcome.html">Back</a>
        <a class="payment">Proceed to Payment</a>
    </div>

    <footer>
    Copyright &copy;2025 Web Design Mastery. All right reserved.
   </footer>
       
    </div>

    <script src="coffee.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cartItems = document.getElementById('cart-table-body');

             function renderCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cartItems.innerHTML = ''; // Clear previous content before re-render

             cart.forEach((item, index) => {
    const row = document.createElement('tr');

    row.innerHTML = `
      <td><img src="${item.itemImage}"></td>
      <td>${item.name}</td>
      <td>${item.price}</td>
      <td><button class="delete-btn" data-index="${index}">X</button></td>
    `;
    cartItems.appendChild(row);
    });

    // Add event listener to all delete buttons
    const deleteButtons = document.querySelectorAll('.delete-btn');
    deleteButtons.forEach(btn => {
      btn.addEventListener('click', function () {
        const index = parseInt(this.getAttribute('data-index'));
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.splice(index, 1); // Remove item from array
        localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart
        renderCart(); // Re-render cart
      })
        });
    }
    renderCart();
});

    </script>
   
</body>
</html>